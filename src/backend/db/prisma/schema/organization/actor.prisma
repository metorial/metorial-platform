enum OrganizationActorType {
  member
  machine_access
  system
}

model OrganizationActor {
  oid BigInt @id @default(autoincrement())
  id  String @unique

  type OrganizationActorType

  isSystem Boolean?

  email String?
  name  String

  /// [EntityImage]
  image Json

  organizationOid BigInt
  organization    Organization @relation(fields: [organizationOid], references: [oid], onDelete: Cascade)

  createdAt DateTime @default(now())
  updatedAt DateTime @default(now()) @updatedAt

  member                  OrganizationMember?
  createdInvites          OrganizationInvite[]
  machineAccess           MachineAccess?
  secretEvents            SecretEvent[]
  customServerDeployments CustomServerDeployment[]
  profileUpdates          ProfileUpdate[]
  serverListingUpdates    ServerListingUpdate[]

  @@unique([isSystem, organizationOid])
}
